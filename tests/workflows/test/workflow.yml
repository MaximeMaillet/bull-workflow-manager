name: IssueAdded
description: "When issue is added"
id: github-all

requirements:
    data:
        - meta.host: "https://github.com"
        - meta.object: "^((?!(issues)).)*$"
        - meta.action: "added|deleted|updated"

stages:
    - message_cron:
        job: message
        repeat:
            cron: "*/5 * * * * *"
        data:
            - message: "Cron cron cron"
    - issue_added:
        priority: 2
        job: test
        on_success:
            job: message
            data:
                - message: "Good news"
        on_fail:
            job: message
            data:
                - message: "Bad news"
    - message2:
        job: message
        priority: 1
        data:
            - message: "Hello world"
    - message:
        priority: 2
        job: message
        data:
            - message: "First message"
        on_success:
            job: message
            data:
                - message: "Second message"
            on_success:
                job: message
                data:
                    - message: "Third message"
                on_success:
                    job: message
                    data:
                        - message: "Last message"